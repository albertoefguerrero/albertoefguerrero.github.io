#+SETUPFILE: https://fniessen.github.io/org-html-themes/org/theme-readtheorg.setup
#+AUTHOR: Alberto Flores
#+EMAIL: albertoefg@outlook.com
#+DATE: <2020-12-12 sÃ¡b>
#+TITLE: Final Challenge
#+LANGUAGE: en
* - Kanban
|------+-------+-----------------------------------|
| TODO | Doing | Done                              |
|------+-------+-----------------------------------|
|      |       | Learn about Architecture Diagrams |
|------+-------+-----------------------------------|
|      |       | Design Processes Diagram          |
|------+-------+-----------------------------------|
|      |       | Design Information Flow           |
|------+-------+-----------------------------------|
|      |       | Clone Repository                  |
|------+-------+-----------------------------------|
|      |       | Install docker, git and go        |
|------+-------+-----------------------------------|
|      |       | Learn about Go toolchain          |
|------+-------+-----------------------------------|
|      |       | Play with code from repository    |
|------+-------+-----------------------------------|
|      |       | Run code and tests on docker      |
|------+-------+-----------------------------------|
|      |       | Fix Docker image                  |
|------+-------+-----------------------------------|
|      |       | Docker: Jenkins and BlueOcean     |
|------+-------+-----------------------------------|
|      |       | Simple BlueOcean pipeline         |
|------+-------+-----------------------------------|
|      |       | Pipeline: Build step              |
|------+-------+-----------------------------------|
|      |       | Pipeline: Testing step            |
|------+-------+-----------------------------------|
|      |       | Custom docker image with Go       |
|------+-------+-----------------------------------|
|      |       | Jenkins Webhook                   |
|------+-------+-----------------------------------|
|      |       | Learn about Sonar Qube            |
|------+-------+-----------------------------------|
|      |       | Install sonarqube                 |
|------+-------+-----------------------------------|
|      |       | Integrate Sonar Qube              |
|------+-------+-----------------------------------|
|      |       | Jenkins for Docker Orchestration  |
|------+-------+-----------------------------------|
|      |       | Everything in Docker !!           |
|------+-------+-----------------------------------|
|      |       | Linting and formatting            |
|------+-------+-----------------------------------|
|      |       | CV                                |
|------+-------+-----------------------------------|
|      |       | Secure Jenkins                    |
|------+-------+-----------------------------------|
|      |       | Fix the code                      |
|------+-------+-----------------------------------|
|      |       | JUnit test reporting for Jenkins  |
|------+-------+-----------------------------------|
|      |       | Publishing to github              |
|------+-------+-----------------------------------|


* - Architecture Diagram
  [[https://viewer.diagrams.net/?highlight=0000ff&edit=_blank&layers=1&nav=1#R7Zpbc9o4FIB%2FDY94bMk3Hkko6ex0u92mne4%2BZYQtsIptsbYosL9%2BJSyBJYtAOsCQbfIQ5GMhi3M%2BnYvkHrwv1g8VWmS%2F0xTnPeCm6x4c9QCIvJD%2FF4JNI4CxFMwqkjYiby94JP9iKXSldElSXGsdGaU5IwtdmNCyxAnTZKiq6ErvNqW5%2FtQFmuGO4DFBeVf6jaQsa6Rx4O7l7zGZZerJnivvFEh1loI6QyldtUTwXQ%2FeV5SyplWs73EudKf00nxvfODubmIVLtkpX2AYF%2BMP7CPJv26KhCTf1mTel6P8QPlS%2FmA5WbZRGqjoskyxGMTtwbtVRhh%2BXKBE3F1xk3NZxoqcX3m82Z2UegKuGF63RHKSD5gWmFUb3kXeBb5U2EaRIK9Xe%2F0HSqlZS%2FcglEIkbT7bjb1XC29IzbxAS%2FC4llJUZzsl0SXLSYnvd0y6upZQTmYlbydcS7jighxNcP6J1oQRqt0QaiOcxg9GhwlljBatDkM5JKPCIpy1hZhYsZ6JVems8CSnM1o7M8Ky5eQMVop0I3GLOEHHTFHQtZKSnd1IvsVIYc6fejel%2FGe2rRX%2Bs6TqRr%2Fe%2Bpwh7%2BDFi%2FX%2BJm%2FN5Od2lIkSPBD2XugwRIXQdTmpF61ufO4T86tc1sxBiQ14uM6ZTkjNKjrnAOWUUzAqaYnFdEmeG6IOSSYPBUlT8RjrwtWXtpiiGr4HIBjBgDfOsqa90AGBBgwEkQUYL95hpK3sSy3s4PjCVktpmuP1UAQUrhFcprI5SnJU1yTRrad%2BEXR8P%2BbExyFww3gQBlHzZRnmQifUbofPKZuhaobZcSeFUy2gdU3SdqMWL6pkFc4RIz%2F0MGgzgHzCJ0q2q0x5cWg4iIExRE2XVYLlt9phyxjID8yBDBgaxXQG2vKw%2B9k%2Fj0h4OiKk2CYTbRLs7vmoV9%2FGgzuUzGfbJdpaldPtH%2B%2ByfdiwXuwDDFIXU7IWi%2FpOzmeUMSaypaHQDRgnaek7hOdLU8IXf%2BUk%2FIlgnCKG%2BIeQ1%2FxzGy36kwqVaS1WyRhw9zr%2Bjss5Keu%2BB2JnUc4u6zP8wHcC34gyA4vTCOMuxUp2do8RHYsy08bD7uPIF1LwBBa4H%2FGK%2F%2F9MC1S2g8zxsAT8k8LSb41x3uLQc0yFscmUPRD5tvzyUlFocJCpjgUPQfaZFywrtNHAEku637BUJVpv3SGILjwzpHSWY7QgtfQISc27jKeoILlQleUJzdQ%2BLSc5qbODjNlwvEnuzpHnxGZabHNYV4VLFdLPBTBrvaKbgC9E6PmQLx54p9U6P1mhdAzXMr7gR6ZIHlDXcrbWQLcQwR9X737wwWpFkFECoVXtO0mGkzmnlT0ltFbryRZd26id2QcFBiNe0K1vI0tIiy4V0rwTNgEOaLjZ0HBNJo4t5HOXu1Z%2BO4SZRNDplCSYe7sywQvuAfmsLmt53w8cPxjs%2F3QO%2FLDLQeS4FhRicCkUTtjpeHXZrns0261pQlDeL3BKUB94rq8S3ubG0%2FbGk3YhEuSnlCZzXLXT4cvBA13DbcDYEloGUZcWJTs%2FLbbExaDlWKmM14T91Wr%2FLc0r2qN1%2B2JzLEw3FeUz85Xr62glrULmjZTScKBbHkIjVzi5lDZ2VkF83VIanJCKnMqLy%2BG%2FIWK8myImAFA3tLkzfioxcBDrA4HAcQMvgnAAB9HuLOda%2FJyQqJzMzy3Rc1tbd37oOwFspSmhAdOupnnlOAELTq%2Bn7n6kJar44%2F5cTvBb8S3wN86kPM%2BWIcXXLL6BLZ9%2BPYh9LYmY0hdcM8Lz2zfIRA7l3xxkh08%2BXwNko20R9QaXiI%2FuDiaFF%2BhuClwXrhcckb7tCFx1RyDyjLoQdDcSbayYVd%2F5WDl6OPbis66b8lTDKhFeIGHLCj%2Fz%2BsevfcQGjN0KvwvlVc8%2FQHwMyltCTE2NKMHdplkYw3zCTUB5a8zNhtvHvMQSLH9xBoHOYNRl0LsUhA%2F11zV4HMzjbH4%2FSdkf7rj%2B3n%2FdleY3PMkonf9fUrQORxbaDp%2FwRmbQvebrA1a4XnBmc6WX2NoHtnIyxt7WSSq%2FznaXFxxIo166u2W%2B8tYZ6Kf3s%2Fjl%2Fj3xpvv%2BZXv47j8%3D][Link to architecture diagram in Diagrams.net]]

  [[file:images/diagram.png]]

* - Process Flow
  [[https://viewer.diagrams.net/?highlight=0000ff&edit=_blank&layers=1&nav=1#R3VjbctowEP0aHtPxBRt4DJDLTCczydA2SV86wl6wirA8shxMvr5rW8YXQaG0DCU8gPbIWkvn7JGwO%2FZomd4JEgUP3AfWsQw%2F7djjjmU5Axu%2FM2BdALY5KIC5oH4BmRUwoe%2BgQEOhCfUhblwoOWeSRk3Q42EInmxgRAi%2Bal4246x514jMQQMmHmE6%2Bkx9GRRo3zEq%2FB7oPCjvbBqqZ0nKixUQB8Tnqxpk33TskeBcFq1lOgKWcVfyUoy73dG7mZiAUB4y4Cm17197t9bXYPwzff9hvo%2FilyuV5Y2wRC1YTVauSwYwC5KNwXAVUAmTiHhZzwrlRiyQS4aRiU0SR4UCM5oC3nQ4o4yNOOMiT2T7BPozD%2FFYCr6AWo%2Fr9WE6wx59TeUEQUhIa5Ba4x3wJUixxktUb0m3qjfTVfGqUq8UL6gJV2JE1ct8k7iiFBuK1T9g2D6A4dC%2FzkoVI4%2BROKZek9idrIDfKF6dkwMXLYARSd%2BaJb%2BNCXWHR05xJhvKey3K%2B91PTjNHzBPhgRpWr9FWJtPcm0oSMQeppcq12az8eLkcTa7HJB81E3zZsVyyzKo%2BnMZRLozLkMrhVGBrnrXuqAySaU5pxPXuFXZnssA04HyhFYLgSehn1hkb%2B%2B12FndpAjmOZi%2FT2lJq7qn85X58f1m27or%2BcQbb5tVWqhMbrKfpNUwoHso4gSiqfNYyTrE%2B7E5iGs7xd8y9BQj0AOimvDhXaaqc3VX9j%2B8qe6Bboeca1cc6zmLdLW79Xd4T%2B22gKXmTgofIF4hl7qWLs4vG8NntUp6KLZYTCfmjiZ%2F9kJCwdUzjfJ7Z34D2HtfeyCY8JNhpPCVTuECVnLa%2Fzq9S9%2B93NUipfKm1XzMF8D9qEY1TJUgerMsgxNm%2F1IPaqCyshuVROW6nCOo03Gv6Yms5oG7%2Fky25azRLxuq3SuHgPdhpJbJbif7dpnv9TL%2B9LL6P3h7GwdMDdcfC%2FXxlXWKhtYpgS%2BWd7QFzy2Nhzz2uNHrO%2Flwnrg79lcBjMmU03nImSHyINMqHynMcAdp%2Bf1BZ7OL6hEcAhtW7tEKp6oWkffML][Link to process flow in Diagrams.net]]

  [[file:images/process-flow.png]]

* - Repository
  https://github.com/albertoefguerrero/DOTT

* Learn about go toolchain

- Setting up GO environment variables (should be done with root)

#+begin_src shell
export GOPATH=~/go
export GOBIN=$GOPATH/bin
export PATH=$PATH:$GOBIN
#+end_src


* Play with code from repository
- Proper goop repository is ~~github.com/karmakaze/goop~. Should change in Dockerfile
#+begin_src shell
go get github.com/karmakaze/goop # should be run as root
goop install
goop go run api.go convert.go
#+end_src


- Ash is the alpine shell

- The port is defined in ~main()~ in line 66 of file api.go, this should be a variable, not hardcoded
#+begin_src go
log.Fatal(http.ListenAndServe(":8000", router))
#+end_src

- Test are run like this
#+begin_src shell
go get github.com/stretchr/testify/assert
goop go test
#+end_src

* Jenkins with Go
  https://plugins.jenkins.io/golang/

* Installing and running Docker on CentOS 7

  #+begin_src shell
sudo yum -y update
sudo yum install -y yum-utils
sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
sudo yum install docker-ce docker-ce-cli containerd.io
sudo systemctl start docker
# sudo docker run hello-world # only to test
  #+end_src

* Building Dockerfile and running

#+begin_src shell
docker build -t gom .
docker run -ti -p 8000:8000 gom
#+end_src

exec commands
#+begin_src
docker exec -it <container> <command>
#+end_src

* Fixed Dockerfile
Testify required Go 1.13+ so using a newer image of golang
Mux required GCC so it was added too

#+begin_src Dockerfile
FROM golang:1.15-alpine

ENV GOPATH=/go:/app
RUN apk add --update git
RUN apk add build-base
WORKDIR /app

COPY Goopfile Goopfile
RUN go get github.com/karmakaze/goop \
    && go get github.com/gorilla/mux \
    && go get github.com/stretchr/testify/assert \
    && goop install

COPY . .
CMD ["ash", "-c", "goop go run api.go convert.go"]
# docker build -t gom .
# docker run -ti -p 8000:8000 gom
#+end_src

* Jenkins with BlueOcean
It is really easy to create a Pipeline with Jenkins and BlueOcean

** Installing with docker
We can install BlueOcean and jenkins with Docker
#+begin_src shell
docker run -p 8080:8080 jenkinsci/blueocean
#+end_src

-The documentation for [[https://hub.docker.com/r/jenkinsci/blueocean][the blue ocean docker]]

** Webhook
- [[https://dzone.com/articles/adding-a-github-webhook-in-your-jenkins-pipeline][Adding a GitHub Webhook in Your Jenkins Pipeline]]
- [[https://jayd.ml/jenkins/2019/03/05/jenkins-pipeline-webhooks.html][How to get Jenkins Blue Ocean Github Webhooks to Work]]
- [[https://medium.com/@joydeep56053/continuous-integration-using-jenkins-blueocean-github-ubuntu-robotframework-5b800ae1df8c][Continuous Integration using Jenkins BlueOcean + Github + Ubuntu & Robot Framework]]

- [[https://plugins.jenkins.io/multibranch-scan-webhook-trigger/][Plugin for webhook]]

- Example of URL with token named token-test
#+begin_src
http://3.129.89.220:8081/multibranch-webhook-trigger/invoke?token=token-test
#+end_src


** Creating a Pipeline
- [[https://www.jenkins.io/doc/book/blueocean/creating-pipelines/][Creating a Pipeline with BlueOcean]]
- [[https://www.jenkins.io/doc/book/blueocean/pipeline-editor/][BlueOcean Pipeline Editor]]
- [[https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token][Documentation to create a Github personal access token]]
- [[https://www.jenkins.io/doc/book/pipeline/syntax/][Jenkinsfile Pipeline syntax]]

* DO NOT USE. Creating a custom Dockerfile with Jenkins, BlueOcean, Go and dependencies
#+begin_src Dockerfile
FROM jenkinsci/blueocean
USER root
RUN apk add --no-cache git make musl-dev go

# Configure Go
ENV GOROOT /usr/lib/go
ENV GOPATH /go
ENV PATH /go/bin:$PATH
ENV GOBIN $GOPATH/bin

RUN mkdir -p ${GOPATH}/src ${GOPATH}/bin

RUN go get github.com/karmakaze/goop \
    && go get github.com/gorilla/mux \
    && go get github.com/stretchr/testify/assert \
    && go get github.com/pkg/errors
#+end_src

With inspiration from [[https://stackoverflow.com/a/53405005][here]] and [[https://fukubaka0825.medium.com/how-to-resolve-the-trouble-occurred-when-i-install-go-into-the-alpine-image-3c1e84f2315a][here]] and [[https://stackoverflow.com/a/56613664][here]]


* Custom Dockerfile with Jenkins BlueOcean and Docker

#+begin_src Dockerfile
FROM jenkinsci/blueocean
USER root
RUN apk add --no-cache git make musl-dev
RUN apk add --update docker openrc
RUN rc-update add docker boot
RUN addgroup username docker
RUN apk add docker-compose
#+end_src

#+begin_src shell
docker run -it -v "/var/run/docker.sock:/var/run/docker.sock:rw" image-name /bin/sh
#+end_src

https://stackoverflow.com/questions/54099218/how-can-i-install-docker-inside-an-alpine-container
https://wiki.alpinelinux.org/wiki/Docker#Installation
https://stackoverflow.com/questions/28302178/how-can-i-add-a-volume-to-an-existing-docker-container

** Running Custom Docker image
- To create the image we do (Make sure the Dockerfile is in path)
#+begin_src shell
docker build -t custom .
#+end_src

- To run the image we do
#+begin_src shell
docker run -p 8000:8000 -p 8080:8080 custom
#+end_src


export JAVA_HOME=/opt/java/current && export PATH=$PATH:$JAVA_HOME/bin &&

export JAVA_HOME=/usr/lib/jvm/java-11-openjdk && export PATH="$JAVA_HOME/bin:${PATH}" &&
docker run --network=host -e SONAR_HOST_URL='http://albertoefg1c.mylabserver.com:9090' --user="$(id -u):$(id -g)" -v "$PWD:/usr/src" sonarsource/sonar-scanner-cli

http://pietervogelaar.nl/jenkinsfile-docker-pipeline-multi-stage

https://www.kabisa.nl/tech/running-multiple-docker-containers-in-parallel-with-jenkins/

https://stackoverflow.com/questions/49782267/running-multiple-docker-containers-from-a-single-jenkinsfile

** This will create a new Jenkins instance, we have to setup credentials again.
** Crate an image out of custom image with all credentials

** jenkins with docker https://medium.com/@karthi.net/docker-tutorial-build-docker-images-using-jenkins-d2880e65b74

** Integrating SonarQube and Jenkins https://aspiresoftware.in/blog/intergrating-sonarqube-and-jenkins/
** SonarScanner for Jenkins https://docs.sonarqube.org/latest/analysis/scan/sonarscanner-for-jenkins/
** Try Out SonarQube https://docs.sonarqube.org/latest/setup/get-started-2-minutes/
** Dockerhub - SonarQube https://hub.docker.com/_/sonarqube/
** SonarQube - Docker installation https://techexpert.tips/sonarqube/sonarqube-docker-installation/
** Prerequisites and Overview https://docs.sonarqube.org/latest/requirements/requirements/
Hardware Requirements
A small-scale (individual or small team) instance of the SonarQube server requires at least 2GB of RAM to run efficiently and 1GB of free RAM for the OS. If you are installing an instance for a large teams or Enterprise, please consider the additional recommendations below.
The amount of disk space you need will depend on how much code you analyze with SonarQube.
SonarQube must be installed on hard drives that have excellent read & write performance. Most importantly, the "data" folder houses the Elasticsearch indices on which a huge amount of I/O will be done when the server is up and running. Great read & write hard drive performance will therefore have a great impact on the overall SonarQube server performance.
SonarQube does not support 32-bit systems on the server side. SonarQube does, however, support 32-bit systems on the scanner side.
** TODO Keep the app running
** TODO Docker code in an external

* Sonar Qube
  #+begin_src shell
docker run -d --name sonarqube \
    -p 9000:9000 \
    -e SONAR_JDBC_URL=... \
    -e SONAR_JDBC_USERNAME=... \
    -e SONAR_JDBC_PASSWORD=... \
    -v sonarqube_data:/opt/sonarqube/data \
    -v sonarqube_extensions:/opt/sonarqube/extensions \
    -v sonarqube_logs:/opt/sonarqube/logs \
    sonarqube
  #+end_src

  docker run -d --name sonarqube3 -p 9090:9000 -p 9092:9092 -v sonarqube-conf:/opt/sonarqube/conf -v sonarqube-data:/opt/sonarqube/data -v sonarqube-logs:/opt/sonarqube/logs -v sonarqube-extensions:/opt/sonarqube/extensions sonarqube

** Sonar Scanner
#+begin_src shell
       docker run --rm --network host \
              -e SONAR_HOST_URL="http://3.138.247.153/" \
              -e SONAR_LOGIN="99a7536d3c88fc79e7f1dd189f99b4cf59926cc6" \
              -v "/var/jenkins_home/workspace/DOTT_master/cidr_convert_api/go/" \
              sonarsource/sonar-scanner-cli -X
#+end_src

--network host -e SONAR_HOST_URL="http://3.138.247.153/" -e SONAR_LOGIN="99a7536d3c88fc79e7f1dd189f99b4cf59926cc6" -v "/var/jenkins_home/workspace/DOTT_master/cidr_convert_api/go/"


#+begin_src shell
  sonar-scanner \
    -Dsonar.projectKey=test-key1 \
    -Dsonar.sources=. \
    -Dsonar.host.url=http://3.22.117.110 \
    -Dsonar.login=test
    -Dsonar.go.coverage.reportPaths=$WORKSPACE/coverage.out
#+end_src

* Share directories across docker images
https://www.jenkins.io/doc/book/pipeline/docker/#caching-data-for-containers
when using the pipeline we should have
#+begin_src
args '-v $HOME/.m2:/root/.m2'
#+end_src

Notes: First directory is the host, second  directory is inside docker
If directories don't exists, jenkins will create them

https://docs.docker.com/storage/volumes/#choose-the--v-or---mount-flag




* Fixing Code
- Integer to String https://golang.org/pkg/strconv/
- Return only the first result of a multiple return values in golang https://stackoverflow.com/questions/53018490/return-only-the-first-result-of-a-multiple-return-values-in-golang

- Convert net mask into CIDR in Go https://stackoverflow.com/questions/57699732/convert-net-mask-into-cidr-in-go

- Documentation for net library https://golang.org/pkg/net/
- Golang Convert Cidr Address To Hosts https://www.stevencampbell.info/Golang-Convert-CIDR-Address-To-Hosts/
- IPv4 Subnet Calculator (GO library) https://github.com/brotherpowers/ipsubnet

- convert-ipmask-to-ipaddr https://stackoverflow.com/questions/52448110/convert-ipmask-to-ipaddr


* Securing jenkins
https://github.com/jenkinsci/credentials-binding-plugin
https://fedidat.com/270-jenkinsfile-scripted-secret-text/
https://www.jenkins.io/doc/pipeline/tour/environment/


Environment variables http://albertoefg2c.mylabserver.com:8080/env-vars.html/


* Coverage
https://docs.sonarqube.org/latest/analysis/languages/go/
https://docs.sonarqube.org/latest/analysis/coverage/
https://community.sonarsource.com/t/golang-code-coverage-difficulties/21348
https://stackoverflow.com/questions/10516662/how-to-measure-code-coverage-in-golang
https://community.sonarsource.com/t/coverage-test-data-generate-reports-for-apex-c-c-objective-c-go-js-ts-and-python/9687


* Junit testing for Jenkins
  Jenkins has support for JUnit-style XML reports
  https://www.jenkins.io/doc/pipeline/tour/tests-and-artifacts/
  Golang repository to create them
  https://github.com/jstemmer/go-junit-report

#+begin_src shell
  # install
  go get -u github.com/jstemmer/go-junit-report
  # run
  go test -v 2>&1 | go-junit-report > report.xml
  # run with benchmark
  go test -v -bench . -count 5 2>&1 | go-junit-report > report.xml
#+end_src

After that we just create an step in jenkins to upload them

* Publishing
  Package should include both ~api~ and ~go.sum~ files
  https://blog.golang.org/using-go-modules

#+begin_quote
The go command uses the go.sum file to ensure that future downloads of these modules retrieve the same bits as the first download, to ensure the modules your project depends on do not change unexpectedly, whether for malicious, accidental, or other reasons. Both go.mod and go.sum should be checked into version control.
#+end_quote


github-release https://github.com/github-release/github-release
Upload build artifact to Github as release in Jenkins https://stackoverflow.com/questions/24585609/upload-build-artifact-to-github-as-release-in-jenkins

GO build should be statically linked

This is for linux
#+begin_src shell
$ env CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -a -o app
#+end_src

https://oddcode.daveamit.com/2018/08/16/statically-compile-golang-binary/
https://www.arp242.net/static-go.html



** NO longer possible to run binary only
https://golang.org/pkg/go/build/
#+begin_quote
"go build" and other commands no longer support binary-only-packages. Import and ImportDir will still set the BinaryOnly flag in packages containing these comments for use in tools and error messages.
#+end_quote



* - Notes
- [[https://www.redhat.com/architect/diagramming-tools-cloud-infrastructure][6 architectural diagramming tools for cloud infrastructure]]
- [[https://gitlab.com/redhatdemocentral/portfolio-architecture-examples][Portfolio Architecture Examples]]
- [[https://docs.microsoft.com/en-us/azure/devops/learn/agile/what-is-kanban][What is Kanban]]
- [[https://www.redhat.com/en/blog/integrating-ansible-jenkins-cicd-process][Integrating ansible with jenikns in a CI/CD process]]
- [[https://www.bantrain.com/how-to-setup-sonarqube-jenkins/][How to Setup Sonarqube & Jenkins]]

- jenkins and golang  https://plugins.jenkins.io/golang/
- goop https://github.com/karmakaze/goop
- goop error https://github.com/petejkim/goop/issues/44
- goop manual https://nicedoc.io/petejkim/goop
- Go environment error https://stackoverflow.com/q/18149601
- Go environment variables  https://stackoverflow.com/a/49595197
- Go tests error ~error during install strechr/testify, undefined: errors.Is~
  https://github.com/stretchr/testify/issues/991
  Fix with Go 1.13
- [[https://www.scalyr.com/blog/create-docker-image/][How To Create A Docker Image From A Container]]
